<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Äá»‘i SoÃ¡t Thu Há»™ COD</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#f4f6f9;}
.layout{display:flex;min-height:100vh}

/* SIDEBAR */
.sidebar{
  width:240px;
  background:linear-gradient(#3b5c94,#2a4574);
  color:#fff;
}
.sidebar h2{
  margin:0;padding:18px;font-size:18px;
  background:rgba(0,0,0,.15)
}
.menu a{
  display:flex;
  gap:10px;
  padding:14px 18px;
  color:#fff;
  text-decoration:none;
}
.menu a.active,.menu a:hover{
  background:rgba(255,255,255,.15)
}

/* MAIN */
.main{flex:1;padding:24px}
h1{margin-top:0}

/* FILTER */
.filter-box{
  background:#fff;
  padding:16px;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.05)
}
.row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}
input,select,button{
  padding:8px 10px;font-size:14px
}
button.search{
  background:#2fa84f;color:#fff;border:none
}
button.excel{
  background:#3b7ddd;color:#fff;border:none
}

/* TABLE */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:18px;
  background:#fff
}
th,td{
  border:1px solid #ddd;
  padding:10px;
  text-align:center
}
th{background:#eef1f6}
tr:hover{background:#f6f9ff;cursor:pointer}

.badge{
  padding:5px 10px;
  border-radius:4px;
  color:#fff;
  font-size:13px;
}
.ok{background:#28a745}
.err{background:#dc3545}
.warn{background:#ffc107;color:#333}

/* DETAIL */
.detail{
  margin-top:22px;
  background:#fff;
  padding:18px;
  border-radius:8px;
  display:flex;
  justify-content:space-between;
}
.detail-info p{margin:6px 0}
.detail-actions button{
  width:240px;
  margin-bottom:10px;
  padding:10px;
  border:none;
  color:#fff;
  font-size:14px
}
.done{background:#28a745}
.complain{background:#3b7ddd}
.print{background:#6c757d}
</style>
</head>
<body>

<script>
if(localStorage.getItem("auth")!=="1"){
  location.href="index.html";
}
</script>

<div class="layout">
  <!-- SIDEBAR -->
  <div class="sidebar">
    <h2>ğŸ”’ TÃªn Shop</h2>
    <div class="menu">
      <a href="orders.html">ğŸ“¦ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng</a>
      <a class="active">ğŸ’° Äá»‘i soÃ¡t COD</a>
      <a href="#" onclick="logout()">ğŸšª ÄÄƒng xuáº¥t</a>
    </div>
  </div>

  <!-- MAIN -->
  <div class="main">
    <h1>Äá»‘i SoÃ¡t Thu Há»™ COD</h1>

    <!-- FILTER -->
    <div class="filter-box">
      <div class="row">
        <label>Tá»« ngÃ y <input type="date" id="from" value="2024-04-01"></label>
        <label>Äáº¿n ngÃ y <input type="date" id="to" value="2024-04-10"></label>
      </div>

      <div class="row">
        <label><input type="checkbox" id="f1" checked> ChÆ°a Ä‘á»‘i soÃ¡t</label>
        <label><input type="checkbox" id="f2" checked> ÄÃ£ Ä‘á»‘i soÃ¡t</label>
        <label><input type="checkbox" id="f3" checked> CÃ³ chÃªnh lá»‡ch</label>
      </div>

      <div class="row">
        <input id="search" placeholder="MÃ£ Ä‘Æ¡n hÃ ng / MÃ£ váº­n Ä‘Æ¡n" style="flex:1">
        <button class="search" onclick="render()">ğŸ” TÃ¬m kiáº¿m</button>
        <button class="excel">â¬‡ Excel</button>
      </div>
    </div>

    <!-- TABLE -->
    <table>
      <thead>
        <tr>
          <th>STT</th>
          <th>MÃ£ Ä‘Æ¡n</th>
          <th>Tiá»n COD</th>
          <th>ÄÃ£ thu</th>
          <th>PhÃ­ ship</th>
          <th>ChÃªnh lá»‡ch</th>
          <th>Tráº¡ng thÃ¡i</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>

    <!-- DETAIL -->
    <div class="detail" id="detail">
      <div class="detail-info">
        <h3>Chi tiáº¿t Ä‘á»‘i soÃ¡t</h3>
        <p>Chá»n 1 Ä‘Æ¡n trong báº£ng</p>
      </div>
    </div>

  </div>
</div>

<script>
const data=[
 {id:"DH001",cod:500000,thu:500000,ship:30000,diff:0,status:"ÄÃ£ Ä‘á»‘i soÃ¡t"},
 {id:"DH002",cod:250000,thu:250000,ship:25000,diff:-50000,status:"CÃ³ chÃªnh lá»‡ch"},
 {id:"DH003",cod:400000,thu:0,ship:20000,diff:400000,status:"ChÆ°a Ä‘á»‘i soÃ¡t"},
];

function statusClass(s){
 if(s==="ÄÃ£ Ä‘á»‘i soÃ¡t") return "ok";
 if(s==="CÃ³ chÃªnh lá»‡ch") return "err";
 return "warn";
}

function render(){
 tbody.innerHTML="";
 const key=search.value.toLowerCase();
 data.filter(d=>d.id.toLowerCase().includes(key))
 .forEach((d,i)=>{
   tbody.innerHTML+=`
   <tr onclick="showDetail('${d.id}')">
     <td>${i+1}</td>
     <td>${d.id}</td>
     <td>${d.cod.toLocaleString()}</td>
     <td>${d.thu.toLocaleString()}</td>
     <td>${d.ship.toLocaleString()}</td>
     <td>${d.diff.toLocaleString()}</td>
     <td><span class="badge ${statusClass(d.status)}">${d.status}</span></td>
   </tr>`;
 });
}

function showDetail(id){
 detail.innerHTML=`
 <div class="detail-info">
   <h3>Chi tiáº¿t Ä‘á»‘i soÃ¡t</h3>
   <p><b>MÃ£ Ä‘Æ¡n:</b> ${id}</p>
   <p><b>Shipper:</b> Nguyá»…n VÄƒn B</p>
   <p><b>SÄT:</b> 0945 678 910</p>
 </div>
 <div class="detail-actions">
   <button class="done">âœ” XÃ¡c nháº­n hoÃ n thÃ nh</button>
   <button class="complain">âš  Táº¡o khiáº¿u náº¡i</button>
   <button class="print">ğŸ–¨ In biÃªn báº£n</button>
 </div>`;
}

function logout(){
 localStorage.removeItem("auth");
 location.href="index.html";
}
render();
</script>

</body>
</html>
