<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Äá»‘i SoÃ¡t COD</title>
<style>
body{margin:0;font-family:Arial;background:#f4f6f9;}
.layout{display:flex;min-height:100vh;}
.sidebar{
  width:230px;
  background:linear-gradient(#3c5d99,#2a4a7b);
  color:#fff;
}
.sidebar h2{padding:16px;margin:0;}
.menu a{
  display:block;
  padding:12px 16px;
  color:#fff;
  text-decoration:none;
}
.menu a:hover,.active{background:rgba(255,255,255,.15);}
.main{flex:1;padding:20px;}
.filters{
  background:#fff;
  padding:15px;
  border-radius:6px;
}
input,select{padding:8px;margin-right:6px;}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  margin-top:15px;
}
th,td{
  border:1px solid #ddd;
  padding:10px;
  text-align:center;
}
.status.ok{background:#28a745;color:#fff;padding:4px 8px;border-radius:4px;}
.status.err{background:#dc3545;color:#fff;padding:4px 8px;border-radius:4px;}
.status.warn{background:#ffc107;padding:4px 8px;border-radius:4px;}
.detail{
  margin-top:20px;
  background:#fff;
  padding:15px;
  border-radius:6px;
}
button.action{
  display:block;
  width:220px;
  margin-top:10px;
  padding:10px;
  border:none;
  color:#fff;
}
.done{background:#28a745;}
.complain{background:#007bff;}
.print{background:#6c757d;}
</style>
</head>
<body>

<script>
if(localStorage.getItem("auth")!=="1"){
  location.href="index.html";
}
</script>

<div class="layout">
  <div class="sidebar">
    <h2>TÃªn Shop</h2>
    <div class="menu">
      <a href="orders.html">Quáº£n lÃ½ Ä‘Æ¡n hÃ ng</a>
      <a class="active">Äá»‘i soÃ¡t COD</a>
      <a href="#" onclick="logout()">ÄÄƒng xuáº¥t</a>
    </div>
  </div>

  <div class="main">
    <h1>Äá»‘i SoÃ¡t Thu Há»™ COD</h1>

    <div class="filters">
      <input id="search" placeholder="MÃ£ Ä‘Æ¡n / MÃ£ váº­n Ä‘Æ¡n">
      <select id="status">
        <option value="">Táº¥t cáº£ tráº¡ng thÃ¡i</option>
        <option>ÄÃ£ khá»›p</option>
        <option>ChÃªnh lá»‡ch</option>
        <option>ChÆ°a Ä‘á»‘i soÃ¡t</option>
      </select>
      <button onclick="render()">TÃ¬m kiáº¿m</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>STT</th><th>MÃ£ Ä‘Æ¡n</th><th>Tiá»n COD</th>
          <th>ÄÃ£ thu</th><th>PhÃ­ ship</th>
          <th>ChÃªnh lá»‡ch</th><th>Tráº¡ng thÃ¡i</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>

    <div class="detail" id="detail">Chá»n Ä‘Æ¡n Ä‘á»ƒ xem chi tiáº¿t</div>
  </div>
</div>

<script>
const data=[
 {id:"DH001",cod:500000,thu:500000,ship:30000,diff:0,status:"ÄÃ£ khá»›p"},
 {id:"DH002",cod:250000,thu:250000,ship:25000,diff:-50000,status:"ChÃªnh lá»‡ch"},
 {id:"DH003",cod:400000,thu:0,ship:20000,diff:400000,status:"ChÆ°a Ä‘á»‘i soÃ¡t"},
];

function render(){
 tbody.innerHTML="";
 const k=search.value.toLowerCase();
 const s=status.value;
 data.filter(d=>
  d.id.toLowerCase().includes(k) &&
  (s===""||d.status===s)
 ).forEach((d,i)=>{
  tbody.innerHTML+=`
  <tr onclick="show('${d.id}')">
   <td>${i+1}</td>
   <td>${d.id}</td>
   <td>${d.cod.toLocaleString()}</td>
   <td>${d.thu.toLocaleString()}</td>
   <td>${d.ship.toLocaleString()}</td>
   <td>${d.diff.toLocaleString()}</td>
   <td><span class="status ${d.status==='ÄÃ£ khá»›p'?'ok':d.status==='ChÃªnh lá»‡ch'?'err':'warn'}">${d.status}</span></td>
  </tr>`;
 });
}

function show(id){
 detail.innerHTML=`
 <h3>Chi tiáº¿t Ä‘á»‘i soÃ¡t</h3>
 <p><b>MÃ£ Ä‘Æ¡n:</b> ${id}</p>
 <p><b>Shipper:</b> Nguyá»…n VÄƒn B</p>
 <p><b>SÄT:</b> 0945 678 910</p>
 <button class="action done">âœ” XÃ¡c nháº­n hoÃ n thÃ nh</button>
 <button class="action complain">âš  Táº¡o khiáº¿u náº¡i</button>
 <button class="action print">ğŸ–¨ In biÃªn báº£n</button>`;
}

function logout(){
 localStorage.removeItem("auth");
 location.href="index.html";
}
render();
</script>

</body>
</html>
